{% extends "base.html" %}

{% block content %}
    <div class="section">
        <h2>CSVæ•°æ®å¯¼å…¥</h2>
        <form class="upload-form" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="data_type">æ•°æ®ç±»å‹</label>
                <select id="data_type" name="data_type" required>
                    <option value="income">æ”¶å…¥</option>
                    <option value="expense">æ”¯å‡º</option>
                    <option value="asset">èµ„äº§</option>
                    <option value="liability">è´Ÿå€º</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="file">CSVæ–‡ä»¶</label>
                <input type="file" id="file" name="file" accept=".csv" required>
            </div>
            
            <div class="form-group">
                <input type="submit" value="å¯¼å…¥æ•°æ®">
            </div>
        </form>
    </div>
    
    <div class="section">
        <h2>CSVå¯¼å…¥æ ¼å¼è¯´æ˜</h2>
        
        <div class="collapse collapse-arrow bg-base-200">
            <input type="radio" name="accordion-1" checked="checked" />
            <div class="collapse-title text-xl font-medium">
                ğŸ’¡ æ”¶å…¥æ•°æ®æ ¼å¼ (income)
            </div>
            <div class="collapse-content">
                <h4>å¿…å¡«å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>date</strong>: æ—¥æœŸ (æ ¼å¼: YYYY-MM-DDï¼Œä¾‹å¦‚: 2023-01-15)</li>
                    <li><strong>category</strong>: æ”¶å…¥ç±»åˆ« (ä¾‹å¦‚: å·¥èµ„, å¥–é‡‘, æŠ•èµ„æ”¶ç›Š)</li>
                    <li><strong>amount</strong>: é‡‘é¢ (æ•°å­—ï¼Œä¾‹å¦‚: 5000.00)</li>
                    <li><strong>source</strong>: æ”¶å…¥æ¥æº (ä¾‹å¦‚: å·¥ä½œå•ä½, è‚¡ç¥¨è´¦æˆ·)</li>
                </ul>
                
                <h4>å¯é€‰å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>description</strong>: å¤‡æ³¨è¯´æ˜ (ä¾‹å¦‚: 1æœˆä»½å·¥èµ„)</li>
                    <li><strong>period_type</strong>: æœŸé—´ç±»å‹ (monthlyæˆ–annual, é»˜è®¤: monthly)</li>
                </ul>
                
                <h4>ç¤ºä¾‹:</h4>
                <pre>date,category,amount,source,description,period_type
2023-01-15,å·¥èµ„,10000.00,å·¥ä½œå•ä½,1æœˆä»½å·¥èµ„,monthly
2023-02-05,å¥–é‡‘,5000.00,å·¥ä½œå•ä½,å¹´ç»ˆå¥–,monthly
2023-03-20,æŠ•èµ„æ”¶ç›Š,1500.50,è‚¡ç¥¨è´¦æˆ·,è‚¡ç¥¨åˆ†çº¢,monthly
2023-01-01,å¹´åº¦å¥–é‡‘,20000.00,å·¥ä½œå•ä½,2022å¹´åº¦å¥–é‡‘,annual
</pre>
            </div>
        </div>
        
        <div class="collapse collapse-arrow bg-base-200 mt-4">
            <input type="radio" name="accordion-1" />
            <div class="collapse-title text-xl font-medium">
                ğŸ’¸ æ”¯å‡ºæ•°æ®æ ¼å¼ (expense)
            </div>
            <div class="collapse-content">
                <h4>å¿…å¡«å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>date</strong>: æ—¥æœŸ (æ ¼å¼: YYYY-MM-DD)</li>
                    <li><strong>category</strong>: æ”¯å‡ºç±»åˆ« (ä¾‹å¦‚: æˆ¿ç§Ÿ, é¤é¥®, äº¤é€š)</li>
                    <li><strong>amount</strong>: é‡‘é¢ (æ•°å­—)</li>
                    <li><strong>payer</strong>: æ”¯ä»˜äºº (ä¾‹å¦‚: æˆ‘, çˆ±äºº, å…±åŒ)</li>
                </ul>
                
                <h4>å¯é€‰å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>description</strong>: å¤‡æ³¨è¯´æ˜ (ä¾‹å¦‚: 1æœˆä»½æˆ¿ç§Ÿ)</li>
                    <li><strong>period_type</strong>: æœŸé—´ç±»å‹ (monthlyæˆ–annual, é»˜è®¤: monthly)</li>
                </ul>
                
                <h4>ç¤ºä¾‹:</h4>
                <pre>date,category,amount,payer,description,period_type
2023-01-05,æˆ¿ç§Ÿ,3000.00,çˆ±äºº,1æœˆä»½æˆ¿ç§Ÿ,monthly
2023-01-10,é¤é¥®,250.00,å…±åŒ,æœ‹å‹èšé¤,monthly
2023-01-15,äº¤é€š,180.00,æˆ‘,åœ°é“å……å€¼,monthly
2023-01-01,å¹´åº¦ä¿é™©,5000.00,å…±åŒ,2023å¹´åº¦åŒ»ç–—ä¿é™©,annual
</pre>
            </div>
        </div>
        
        <div class="collapse collapse-arrow bg-base-200 mt-4">
            <input type="radio" name="accordion-1" />
            <div class="collapse-title text-xl font-medium">
                ğŸ’° èµ„äº§æ•°æ®æ ¼å¼ (asset)
            </div>
            <div class="collapse-content">
                <h4>å¿…å¡«å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>name</strong>: èµ„äº§åç§° (ä¾‹å¦‚: æ‹›å•†é“¶è¡Œ, åŸºé‡‘æŠ•èµ„)</li>
                    <li><strong>type</strong>: èµ„äº§ç±»å‹ (ä¾‹å¦‚: é“¶è¡Œå­˜æ¬¾, åŸºé‡‘, æˆ¿äº§)</li>
                    <li><strong>amount</strong>: é‡‘é¢ (æ•°å­—)</li>
                    <li><strong>owner</strong>: æ‰€æœ‰è€… (ä¾‹å¦‚: æˆ‘, çˆ±äºº, å…±åŒ)</li>
                    <li><strong>update_date</strong>: æ›´æ–°æ—¥æœŸ (æ ¼å¼: YYYY-MM-DD)</li>
                </ul>
                
                <h4>å¯é€‰å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>description</strong>: å¤‡æ³¨è¯´æ˜ (ä¾‹å¦‚: å‚¨è“„å¡)</li>
                    <li><strong>period_type</strong>: æœŸé—´ç±»å‹ (monthlyæˆ–annual, é»˜è®¤: monthly)</li>
                </ul>
                
                <h4>ç¤ºä¾‹:</h4>
                <pre>name,type,amount,owner,update_date,description,period_type
æ‹›å•†é“¶è¡Œ,é“¶è¡Œå­˜æ¬¾,50000.00,æˆ‘,2023-01-31,å‚¨è“„å¡,monthly
åŸºé‡‘æŠ•èµ„,åŸºé‡‘,30000.00,çˆ±äºº,2023-01-31,è‚¡ç¥¨åŸºé‡‘,monthly
æˆ¿äº§,æˆ¿äº§,1000000.00,å…±åŒ,2023-01-31,è‡ªä½æˆ¿äº§,annual
</pre>
            </div>
        </div>
        
        <div class="collapse collapse-arrow bg-base-200 mt-4">
            <input type="radio" name="accordion-1" />
            <div class="collapse-title text-xl font-medium">
                ğŸ’³ è´Ÿå€ºæ•°æ®æ ¼å¼ (liability)
            </div>
            <div class="collapse-content">
                <h4>å¿…å¡«å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>name</strong>: è´Ÿå€ºåç§° (ä¾‹å¦‚: æˆ¿è´·, ä¿¡ç”¨å¡)</li>
                    <li><strong>type</strong>: è´Ÿå€ºç±»å‹ (ä¾‹å¦‚: æˆ¿è´·, ä¿¡ç”¨å¡, æ¶ˆè´¹è´·æ¬¾)</li>
                    <li><strong>amount</strong>: é‡‘é¢ (æ•°å­—)</li>
                    <li><strong>owner</strong>: æ‰€æœ‰è€… (ä¾‹å¦‚: æˆ‘, çˆ±äºº, å…±åŒ)</li>
                    <li><strong>update_date</strong>: æ›´æ–°æ—¥æœŸ (æ ¼å¼: YYYY-MM-DD)</li>
                </ul>
                
                <h4>å¯é€‰å­—æ®µ:</h4>
                <ul class="list-disc pl-5">
                    <li><strong>description</strong>: å¤‡æ³¨è¯´æ˜ (ä¾‹å¦‚: ä½æˆ¿è´·æ¬¾)</li>
                    <li><strong>period_type</strong>: æœŸé—´ç±»å‹ (monthlyæˆ–annual, é»˜è®¤: monthly)</li>
                </ul>
                
                <h4>ç¤ºä¾‹:</h4>
                <pre>name,type,amount,owner,update_date,description,period_type
æˆ¿è´·,æˆ¿è´·,500000.00,å…±åŒ,2023-01-31,ä½æˆ¿è´·æ¬¾,monthly
ä¿¡ç”¨å¡,ä¿¡ç”¨å¡,8500.00,æˆ‘,2023-01-31,æ‹›å•†é“¶è¡Œä¿¡ç”¨å¡,monthly
å¹´åº¦è´·æ¬¾åˆ©æ¯,è´·æ¬¾åˆ©æ¯,12000.00,å…±åŒ,2023-01-31,2022å¹´åº¦è´·æ¬¾åˆ©æ¯,annual
</pre>
            </div>
        </div>
        
        <div class="mt-4 alert alert-info">
            <strong>âš ï¸ æ³¨æ„äº‹é¡¹:</strong>
            <ul class="list-disc pl-5 mt-2">
                <li>CSVæ–‡ä»¶å¿…é¡»ä½¿ç”¨è‹±æ–‡é€—å·(,)ä½œä¸ºåˆ†éš”ç¬¦</li>
                <li>æ—¥æœŸæ ¼å¼å¿…é¡»ä¸¥æ ¼ä¸ºYYYY-MM-DD</li>
                <li>é‡‘é¢å­—æ®µå¿…é¡»ä¸ºæ•°å­—ï¼Œä¸èƒ½åŒ…å«è´§å¸ç¬¦å·æˆ–åƒä½åˆ†éš”ç¬¦</li>
                <li>å¯é€‰å­—æ®µç¼ºå¤±æ—¶ï¼Œå¯¼å…¥æ—¶ä¼šè‡ªåŠ¨å¡«å……ä¸ºNULL</li>
            </ul>
        </div>
    </div>
    
    <style>
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }
        
        h2 {
            color: #555;
            margin-bottom: 20px;
        }
        
        .upload-form {
            display: flex;
            flex-direction: column;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group select,
        .form-group input[type="file"],
        .form-group input[type="submit"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .form-group input[type="submit"] {
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        
        .form-group input[type="submit"]:hover {
            background-color: #218838;
        }
        
        pre {
            background-color: white;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
{% endblock %}
